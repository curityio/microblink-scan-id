/*! ****************************************************************************
Copyright (c) Microblink. All rights reserved.

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.
***************************************************************************** */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).BlinkIDSDK={})}(this,(function(e){"use strict";
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function t(e,t,r,i){return new(r||(r=Promise))((function(s,o){function n(e){try{A(i.next(e))}catch(e){o(e)}}function a(e){try{A(i.throw(e))}catch(e){o(e)}}function A(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(n,a)}A((i=i.apply(e,t||[])).next())}))}let r=0;class i{constructor(e){this.action=e,this.messageID=function(){const e=r;return r+=1,e}()}}class s extends i{constructor(e,t){super(s.action),this.wasmModuleName=e.wasmModuleName,this.licenseKey=e.licenseKey,this.userId=t,this.registerLoadCallback=null!==e.loadProgressCallback,this.allowHelloMessage=e.allowHelloMessage,this.engineLocation=e.engineLocation,this.wasmType=e.wasmType,this.numberOfWorkers=e.numberOfWorkers}}var o,n,a;s.action="init",function(e){e[e.Any=0]="Any",e[e.Recognizer=1]="Recognizer",e[e.RecognizerSettings=2]="RecognizerSettings",e[e.Callback=3]="Callback"}(o||(o={}));class A extends i{constructor(e,t){super(A.action),this.className=e,this.params=t}}A.action="createNewNativeObject";class E extends i{constructor(e,t,r){super(E.action),this.recognizerHandles=e,this.allowMultipleResults=t,this.registeredMetadataCallbacks=r}}E.action="createRecognizerRunner";class R extends i{constructor(e,t){super(R.action),this.recognizerHandles=e,this.allowMultipleResults=t}}R.action="reconfigureRecognizerRunner";class I extends i{constructor(){super(I.action)}}I.action="deleteRecognizerRunner";class N extends i{constructor(e,t,r){super(N.action),this.objectHandle=e,this.methodName=t,this.params=r}}N.action="invokeObject";class c extends i{constructor(e){super(c.action),this.frame=e}getTransferrables(){return[this.frame.imageData.data.buffer]}}c.action="processImage";class d extends i{constructor(e){super(d.action),this.hardReset=e}}d.action="resetRecognizers";class _{constructor(){this.onDebugText=!1,this.onDetectionFailed=!1,this.onQuadDetection=!1,this.onPointsDetection=!1,this.onFirstSideResult=!1,this.onGlare=!1}}class S extends i{constructor(e){super(S.action),this.registeredMetadataCallbacks=e}}S.action="registerMetadataCallbacks";class l extends i{constructor(e){super(l.action),this.detectionOnlyMode=e}}l.action="setDetectionOnly";class O extends i{constructor(e){super(O.action),this.callbackNonEmpty=e}}O.action="setClearTimeoutCallback";class C extends i{constructor(e){super(C.action),this.cameraPreviewMirrored=e}}C.action="setCameraPreviewMirrored";class u extends i{constructor(e){super(u.action),this.userId=e}}u.action="getProductIntegrationInfo",function(e){e[e.onDebugText=0]="onDebugText",e[e.onDetectionFailed=1]="onDetectionFailed",e[e.onQuadDetection=2]="onQuadDetection",e[e.onPointsDetection=3]="onPointsDetection",e[e.onFirstSideResult=4]="onFirstSideResult",e[e.clearTimeoutCallback=5]="clearTimeoutCallback",e[e.onGlare=6]="onGlare",e[e.recognizerCallback=7]="recognizerCallback"}(n||(n={})),(a=e.WasmType||(e.WasmType={})).Basic="BASIC",a.Advanced="ADVANCED",a.AdvancedWithThreads="ADVANCED_WITH_THREADS";function D(e,t){return r=>{const i=r;i.success?e():t(i.error)}}function T(e,t){return r=>{const i=r;i.success?e(r):t(i.error)}}class m{constructor(e,t,r){this.wasmSDKWorker=e,this.objectHandle=r,this.recognizerName=t,this.callbacks=new Map}getRemoteObjectHandle(){return this.objectHandle}currentSettings(){return new Promise(((e,t)=>{if(0>this.objectHandle)return void t("Invalid object handle: "+this.objectHandle);const r=new N(this.objectHandle,"currentSettings",[]),i=T((t=>{e(t.result)}),t);this.wasmSDKWorker.postMessage(r,i)}))}toSignedJSON(){return new Promise(((e,t)=>{if(0>this.objectHandle)return void t("Invalid object handle: "+this.objectHandle);const r=new N(this.objectHandle,"toSignedJSON",[]),i=T((t=>{e(t.result)}),t);this.wasmSDKWorker.postMessage(r,i)}))}clearAllCallbacks(){this.callbacks.clear(),this.wasmSDKWorker.unregisterRecognizerCallbacks(this.objectHandle)}removeFunctions(e){this.clearAllCallbacks();const t=Object.keys(e);let r=!1;for(const i of t){const t=e[i];if("function"==typeof t){this.callbacks.set(i,t);e[i]={parameter:{recognizerHandle:this.objectHandle,callbackName:i},type:o.Callback},r=!0}}return r&&this.wasmSDKWorker.registerRecognizerCallbacks(this.objectHandle,this),e}updateSettings(e){return new Promise(((t,r)=>{if(0>this.objectHandle)return void r("Invalid object handle: "+this.objectHandle);const i=new N(this.objectHandle,"updateSettings",[{parameter:this.removeFunctions(e),type:o.RecognizerSettings}]),s=D(t,r);this.wasmSDKWorker.postMessage(i,s)}))}invokeCallback(e,t){const r=this.callbacks.get(e);void 0!==r?r(...t):console.warn("Cannot find callback",e)}getResult(){return new Promise(((e,t)=>{if(0>this.objectHandle)return void t("Invalid object handle: "+this.objectHandle);const r=new N(this.objectHandle,"getResult",[]),i=T((t=>{e(t.result)}),t);this.wasmSDKWorker.postMessage(r,i)}))}delete(){return new Promise(((e,t)=>{if(0>this.objectHandle)return void t("Invalid object handle: "+this.objectHandle);this.clearAllCallbacks();const r=new N(this.objectHandle,"delete",[]),i=D((()=>{this.objectHandle=-1,e()}),t);this.wasmSDKWorker.postMessage(r,i)}))}}function L(e){const t=new _;return t.onDebugText=!!e.onDebugText,t.onDetectionFailed=!!e.onDetectionFailed,t.onPointsDetection=!!e.onPointsDetection,t.onQuadDetection=!!e.onQuadDetection,t.onFirstSideResult=!!e.onFirstSideResult,t.onGlare=!!e.onGlare,t}class g{constructor(e){this.deleted=!1,this.wasmSDKWorker=e}processImage(e){return new Promise(((t,r)=>{if(this.deleted)return void r("Recognizer runner is deleted. It cannot be used anymore!");const i=new c(e),s=T((e=>{t(e.recognitionState)}),r);this.wasmSDKWorker.postTransferrableMessage(i,s)}))}reconfigureRecognizers(e,t){return new Promise(((r,i)=>{if(this.deleted)return void i("Recognizer runner is deleted. It cannot be used anymore!");const s=M(e),o=new R(s,t),n=D(r,i);this.wasmSDKWorker.postMessage(o,n)}))}setMetadataCallbacks(e){return new Promise(((t,r)=>{const i=new S(L(e)),s=D(t,r);this.wasmSDKWorker.postMessageAndRegisterCallbacks(i,e,s)}))}resetRecognizers(e){return new Promise(((t,r)=>{const i=new d(e),s=D(t,r);this.wasmSDKWorker.postMessage(i,s)}))}setDetectionOnlyMode(e){return new Promise(((t,r)=>{const i=new l(e),s=D(t,r);this.wasmSDKWorker.postMessage(i,s)}))}setClearTimeoutCallback(e){return new Promise(((t,r)=>{const i=new O(null!==e),s=D(t,r);this.wasmSDKWorker.registerClearTimeoutCallback(e),this.wasmSDKWorker.postMessage(i,s)}))}setCameraPreviewMirrored(e){return new Promise(((t,r)=>{const i=new C(e),s=D(t,r);this.wasmSDKWorker.postMessage(i,s)}))}delete(){return this.deleted?Promise.reject("Recognizer runner is already deleted."):new Promise(((e,t)=>{const r=new I,i=D((()=>{this.deleted=!0,e()}),t);this.wasmSDKWorker.postMessage(r,i)}))}}function M(e){const t=[];for(const r of e)t.push(r.getRemoteObjectHandle());return t}class U{constructor(e){this.wasmSDKWorker=e}createRecognizerRunner(e,t=!1,r={}){return new Promise(((i,s)=>{const o=M(e),n=new E(o,t,L(r)),a=D((()=>{i(new g(this.wasmSDKWorker))}),s);this.wasmSDKWorker.postMessageAndRegisterCallbacks(n,r,a)}))}newRecognizer(e,...t){return new Promise(((r,i)=>{const s=new A(e,function(e){const t=[];for(let r of e){let e=o.Any;r instanceof m&&(e=o.Recognizer,r=r.getRemoteObjectHandle()),t.push({parameter:r,type:e})}return t}(t)),n=T((t=>{const i=new m(this.wasmSDKWorker,e,t.objectHandle);r(i)}),i);this.wasmSDKWorker.postMessage(s,n)}))}}class h{constructor(t,r,i,s){this.eventHandlers={},this.metadataCallbacks={},this.clearTimeoutCallback=null,this.loadedWasmType=e.WasmType.Basic,this.mbWasmWorker=t,this.mbWasmWorker.onmessage=e=>{this.handleWorkerEvent(e)},this.mbWasmWorker.onerror=()=>{s("Problem during initialization of worker file!")},this.mbWasmModule=new U(this),this.loadCallback=r,this.recognizersWithCallbacks=new Map,this.userId=i,this.showOverlay=!1}postMessage(e,t){this.eventHandlers[e.messageID]=t,this.mbWasmWorker.postMessage(e)}postTransferrableMessage(e,t){this.eventHandlers[e.messageID]=t,this.mbWasmWorker.postMessage(e,e.getTransferrables())}postMessageAndRegisterCallbacks(e,t,r){this.eventHandlers[e.messageID]=r,this.metadataCallbacks=t,this.mbWasmWorker.postMessage(e)}registerClearTimeoutCallback(e){this.clearTimeoutCallback=e}registerRecognizerCallbacks(e,t){this.recognizersWithCallbacks.set(e,t)}unregisterRecognizerCallbacks(e){this.recognizersWithCallbacks.delete(e)}delete(){this.mbWasmWorker.terminate()}getProductIntegrationInfo(){return new Promise(((e,t)=>{const r=new u(this.userId),i=T((t=>{e(t.result)}),t);this.postMessage(r,i)}))}handleWorkerEvent(e){if("isCallbackMessage"in e.data){const t=e.data;switch(t.callbackType){case n.onDebugText:"function"==typeof this.metadataCallbacks.onDebugText&&this.metadataCallbacks.onDebugText(t.callbackParameters[0]);break;case n.onDetectionFailed:"function"==typeof this.metadataCallbacks.onDetectionFailed&&this.metadataCallbacks.onDetectionFailed();break;case n.onPointsDetection:"function"==typeof this.metadataCallbacks.onPointsDetection&&this.metadataCallbacks.onPointsDetection(t.callbackParameters[0]);break;case n.onQuadDetection:"function"==typeof this.metadataCallbacks.onQuadDetection&&this.metadataCallbacks.onQuadDetection(t.callbackParameters[0]);break;case n.onFirstSideResult:"function"==typeof this.metadataCallbacks.onFirstSideResult&&this.metadataCallbacks.onFirstSideResult();break;case n.clearTimeoutCallback:this.clearTimeoutCallback&&"function"==typeof this.clearTimeoutCallback.onClearTimeout&&this.clearTimeoutCallback.onClearTimeout();break;case n.onGlare:"function"==typeof this.metadataCallbacks.onGlare&&this.metadataCallbacks.onGlare(t.callbackParameters[0]);break;case n.recognizerCallback:{const e=t.callbackParameters.shift(),r=this.recognizersWithCallbacks.get(e.recognizerHandle);void 0!==r?r.invokeCallback(e.callbackName,t.callbackParameters):console.warn("Cannot find recognizer to deliver callback message. Maybe it's destroyed?",e);break}default:throw Error("Unknown callback type: "+n[t.callbackType])}}else if("isLoadProgressMessage"in e.data){"function"==typeof this.loadCallback&&this.loadCallback(e.data.progress)}else{const t=e.data,r=this.eventHandlers[t.messageID];delete this.eventHandlers[t.messageID],r(t)}}static createWasmWorker(e,r,i){return t(this,void 0,void 0,(function*(){return new Promise(((t,o)=>{const n=new h(e,r.loadProgressCallback,i,o),a=new s(r,i),A=T((e=>{const r=e;n.showOverlay=r.showOverlay,n.loadedWasmType=r.wasmType,t(n)}),(e=>{n&&"function"==typeof n.delete&&n.delete(),o(e)}));n.postMessage(a,A)}))}))}}class P{constructor(e,t){if(!e.code||!e.message)throw Error("Instance of SDKError is required to have code and message.");this.message=e.message,this.code=e.code,this.details=t}}var F,p;(F=e.ErrorCodes||(e.ErrorCodes={})).WORKER_WASM_LOAD_FAILURE="WORKER_WASM_LOAD_FAILURE",F.WORKER_WASM_INIT_MISSING="WORKER_WASM_INIT_MISSING",F.WORKER_FUNCTION_INVOKE_FAILURE="WORKER_FUNCTION_INVOKE_FAILURE",F.WORKER_RECOGNIZER_CREATION_FAILURE="WORKER_RECOGNIZER_CREATION_FAILURE",F.WORKER_RUNNER_EXISTS="WORKER_RUNNER_EXISTS",F.WORKER_RUNNER_CREATION_FAILURE="WORKER_RUNNER_CREATION_FAILURE",F.WORKER_RUNNER_MISSING="WORKER_RUNNER_MISSING",F.WORKER_RUNNER_RECONFIGURE_FAILURE="WORKER_RUNNER_RECONFIGURE_FAILURE",F.WORKER_RUNNER_DELETED="WORKER_RUNNER_DELETED",F.WORKER_RUNNER_DELETE_FAILURE="WORKER_RUNNER_DELETE_FAILURE",F.WORKER_OBJECT_INVOKE_FAILURE="WORKER_OBJECT_INVOKE_FAILURE",F.WORKER_IMAGE_PROCESS_FAILURE="WORKER_IMAGE_PROCESS_FAILURE",F.WORKER_HANDLE_UNDEFINED="WORKER_HANDLE_UNDEFINED",F.WORKER_MESSAGE_ACTION_UNKNOWN="WORKER_MESSAGE_ACTION_UNKNOWN",F.WORKER_LICENSE_UNLOCK_ERROR="WORKER_LICENSE_UNLOCK_ERROR",F.WORKER_INTEGRATION_INFO_FAILURE="WORKER_INTEGRATION_INFO_FAILURE",F.LOCAL_SDK_RUNNER_MISSING="LOCAL_SDK_RUNNER_MISSING",F.LOCAL_SDK_RUNNER_EMPTY="LOCAL_SDK_RUNNER_EMPTY",F.LICENSE_UNLOCK_ERROR="LICENSE_UNLOCK_ERROR",F.FRAME_CAPTURE_SVG_UNSUPPORTED="FRAME_CAPTURE_SVG_UNSUPPORTED",F.FRAME_CAPTURE_CANVAS_MISSING="FRAME_CAPTURE_CANVAS_MISSING",F.SDK_WASM_SETTINGS_MISSING="SDK_WASM_SETTINGS_MISSING",F.SDK_LICENSE_KEY_MISSING="SDK_LICENSE_KEY_MISSING",F.SDK_WASM_MODULE_NAME_MISSING="SDK_WASM_MODULE_NAME_MISSING",F.SDK_ENGINE_LOCATION_INVALID="SDK_ENGINE_LOCATION_INVALID",F.SDK_WORKER_LOCATION_INVALID="SDK_WORKER_LOCATION_INVALID",F.SDK_MISSING="SDK_MISSING",F.SDK_RECOGNIZERS_MISSING="SDK_RECOGNIZERS_MISSING",F.VIDEO_RECOGNIZER_ELEMENT_MISSING="VIDEO_RECOGNIZER_ELEMENT_MISSING",F.VIDEO_RECOGNIZER_CAMERA_MISSING="VIDEO_RECOGNIZER_CAMERA_MISSING",F.VIDEO_RECOGNIZER_CAMERA_NOT_ALLOWED="VIDEO_RECOGNIZER_CAMERA_NOT_ALLOWED",F.VIDEO_RECOGNIZER_CAMERA_UNAVAILABLE="VIDEO_RECOGNIZER_CAMERA_UNAVAILABLE",F.VIDEO_RECOGNIZER_CAMERA_IN_USE="VIDEO_RECOGNIZER_CAMERA_IN_USE",F.VIDEO_RECOGNIZER_MEDIA_DEVICES_UNSUPPORTED="VIDEO_RECOGNIZER_MEDIA_DEVICES_UNSUPPORTED",F.VIDEO_RECOGNIZER_FEED_RELEASED="VIDEO_RECOGNIZER_FEED_RELEASED",F.VIDEO_RECOGNIZER_FEED_NOT_PAUSED="VIDEO_RECOGNIZER_FEED_NOT_PAUSED",F.VIDEO_RECOGNIZER_PLAY_REQUEST_INTERRUPTED="VIDEO_RECOGNIZER_PLAY_REQUEST_INTERRUPTED",F.VIDEO_RECOGNIZER_FEED_PAUSED="VIDEO_RECOGNIZER_FEED_PAUSED",F.VIDEO_RECOGNIZER_RECOGNIZERS_RESET_FAILURE="VIDEO_RECOGNIZER_RECOGNIZERS_RESET_FAILURE",F.VIDEO_RECOGNIZER_FEED_MISSING="VIDEO_RECOGNIZER_FEED_MISSING",(p=e.ErrorMessages||(e.ErrorMessages={})).WORKER_HANDLE_UNDEFINED="Cannot find object with handle: undefined",p.WORKER_WASM_LOAD_FAILURE="Failed to load WASM in web worker!",p.WORKER_WASM_INIT_MISSING="WASM module is not initialized!",p.WORKER_FUNCTION_INVOKE_FAILURE="Failed to invoke function!",p.WORKER_RECOGNIZER_CREATION_FAILURE="Failed to create new recognizer!",p.WORKER_RUNNER_EXISTS="Recognizer runner is already created! Multiple instances are not allowed!",p.WORKER_RUNNER_CREATION_FAILURE="Failed to create new recognizer runner!",p.WORKER_RUNNER_MISSING="Recognizer runner is not created! There is nothing to reconfigure!",p.WORKER_RUNNER_RECONFIGURE_FAILURE="Failed to reconfigure recognizer runner!",p.WORKER_RUNNER_DELETED="Recognizer runner is already deleted!",p.WORKER_RUNNER_DELETE_FAILURE="Failed to delete recognizer runner!",p.WORKER_OBJECT_INVOKE_FAILURE="Failed to invoke object!",p.WORKER_IMAGE_PROCESS_FAILURE="Recognizer runner is not initialized! Cannot process image!",p.WORKER_INTEGRATION_INFO_FAILURE="Failed to get product integration info!",p.LOCAL_SDK_RUNNER_MISSING="Property nativeRecognizerRunner is not available!",p.LOCAL_SDK_RUNNER_EMPTY="Native RecognizerRunner cannot be empty!",p.LICENSE_TOKEN_STATE_INCORRECT="Internal error (Incorrect token state)",p.LICENSE_PAYLOAD_VERIFICATION_FAILED="Failed to verify server permission's digital signature!",p.LICENSE_PAYLOAD_CORRUPTED="Server permission payload is corrupted!",p.LICENSE_PERMISSION_EXPIRED="Internal error (server permission expired)",p.LICENSE_REMOTE_LOCKED="Provided license key has been remotely locked. Please contact support for more information!",p.FRAME_CAPTURE_SVG_UNSUPPORTED="Recognition of SVG elements not supported!",p.FRAME_CAPTURE_CANVAS_MISSING="Could not get canvas 2d context!",p.SDK_WASM_SETTINGS_MISSING="Missing WASM load settings!",p.SDK_LICENSE_KEY_MISSING="Missing license key!",p.SDK_WASM_MODULE_NAME_MISSING="Missing WASM module name!",p.SDK_ENGINE_LOCATION_INVALID="Setting property 'engineLocation' must be a string!",p.SDK_WORKER_LOCATION_INVALID="Setting property 'workerLocation' must be a string!",p.SDK_MISSING="SDK is not provided!",p.SDK_RECOGNIZERS_MISSING="To create RecognizerRunner at least 1 recognizer is required.",p.VIDEO_RECOGNIZER_ELEMENT_MISSING="Video element, i.e. camera feed is not provided!",p.VIDEO_RECOGNIZER_CAMERA_MISSING="Camera not found!",p.VIDEO_RECOGNIZER_CAMERA_NOT_ALLOWED="Camera not allowed!",p.VIDEO_RECOGNIZER_CAMERA_UNAVAILABLE="Camera not available!",p.VIDEO_RECOGNIZER_CAMERA_IN_USE="Camera in use!",p.VIDEO_RECOGNIZER_MEDIA_DEVICES_UNSUPPORTED="Media devices not supported by browser.",p.VIDEO_RECOGNIZER_FEED_RELEASED="The associated video feed has been released!",p.VIDEO_RECOGNIZER_FEED_NOT_PAUSED="The associated video feed is not paused. Use resumeRecognition instead!",p.VIDEO_RECOGNIZER_PLAY_REQUEST_INTERRUPTED="The play() request was interrupted or prevented by browser security rules!",p.VIDEO_RECOGNIZER_FEED_PAUSED="Cannot resume recognition while video feed is paused! Use recognize or startRecognition",p.VIDEO_RECOGNIZER_RECOGNIZERS_RESET_FAILURE="Could not reset recognizers!",p.VIDEO_RECOGNIZER_FEED_MISSING="Missing video feed!";const G={feedMissing:{message:e.ErrorMessages.VIDEO_RECOGNIZER_FEED_MISSING,code:e.ErrorCodes.VIDEO_RECOGNIZER_FEED_MISSING},recognizersResetFailure:{message:e.ErrorMessages.VIDEO_RECOGNIZER_RECOGNIZERS_RESET_FAILURE,code:e.ErrorCodes.VIDEO_RECOGNIZER_RECOGNIZERS_RESET_FAILURE},feedPaused:{message:e.ErrorMessages.VIDEO_RECOGNIZER_FEED_PAUSED,code:e.ErrorCodes.VIDEO_RECOGNIZER_FEED_PAUSED},playRequestInterrupted:{message:e.ErrorMessages.VIDEO_RECOGNIZER_PLAY_REQUEST_INTERRUPTED,code:e.ErrorCodes.VIDEO_RECOGNIZER_PLAY_REQUEST_INTERRUPTED},videoFeedNotPaused:{message:e.ErrorMessages.VIDEO_RECOGNIZER_FEED_NOT_PAUSED,code:e.ErrorCodes.VIDEO_RECOGNIZER_FEED_NOT_PAUSED},videoFeedReleased:{message:e.ErrorMessages.VIDEO_RECOGNIZER_FEED_RELEASED,code:e.ErrorCodes.VIDEO_RECOGNIZER_FEED_RELEASED},mediaDevicesUnsupported:{code:e.ErrorCodes.VIDEO_RECOGNIZER_MEDIA_DEVICES_UNSUPPORTED,message:e.ErrorMessages.VIDEO_RECOGNIZER_MEDIA_DEVICES_UNSUPPORTED},cameraMissing:{code:e.ErrorCodes.VIDEO_RECOGNIZER_CAMERA_MISSING,message:e.ErrorMessages.VIDEO_RECOGNIZER_CAMERA_MISSING},elementMissing:{message:e.ErrorMessages.VIDEO_RECOGNIZER_ELEMENT_MISSING,code:e.ErrorCodes.VIDEO_RECOGNIZER_ELEMENT_MISSING}},K={wasmSettingsMissing:{message:e.ErrorMessages.SDK_WASM_SETTINGS_MISSING,code:e.ErrorCodes.SDK_WASM_SETTINGS_MISSING},licenseKeyMissing:{message:e.ErrorMessages.SDK_LICENSE_KEY_MISSING,code:e.ErrorCodes.SDK_LICENSE_KEY_MISSING},wasmModuleNameMissing:{message:e.ErrorMessages.SDK_WASM_MODULE_NAME_MISSING,code:e.ErrorCodes.SDK_WASM_MODULE_NAME_MISSING},engineLocationInvalid:{message:e.ErrorMessages.SDK_ENGINE_LOCATION_INVALID,code:e.ErrorCodes.SDK_ENGINE_LOCATION_INVALID},workerLocationInvalid:{message:e.ErrorMessages.SDK_WORKER_LOCATION_INVALID,code:e.ErrorCodes.SDK_WORKER_LOCATION_INVALID},missing:{message:e.ErrorMessages.SDK_MISSING,code:e.ErrorCodes.SDK_MISSING},recognizersMissing:{message:e.ErrorMessages.SDK_RECOGNIZERS_MISSING,code:e.ErrorCodes.SDK_RECOGNIZERS_MISSING}},f={svgUnsupported:{message:e.ErrorMessages.FRAME_CAPTURE_SVG_UNSUPPORTED,code:e.ErrorCodes.FRAME_CAPTURE_SVG_UNSUPPORTED},canvasMissing:{message:e.ErrorMessages.FRAME_CAPTURE_CANVAS_MISSING,code:e.ErrorCodes.FRAME_CAPTURE_CANVAS_MISSING}},v={licenseTokenStateIncorrect:{code:e.ErrorCodes.LICENSE_UNLOCK_ERROR,message:e.ErrorMessages.LICENSE_TOKEN_STATE_INCORRECT},licensePayloadVerificationFailed:{code:e.ErrorCodes.LICENSE_UNLOCK_ERROR,message:e.ErrorMessages.LICENSE_PAYLOAD_VERIFICATION_FAILED},licensePayloadCorrupted:{code:e.ErrorCodes.LICENSE_UNLOCK_ERROR,message:e.ErrorMessages.LICENSE_PAYLOAD_CORRUPTED},licensePermissionExpired:{code:e.ErrorCodes.LICENSE_UNLOCK_ERROR,message:e.ErrorMessages.LICENSE_PERMISSION_EXPIRED},licenseRemoteLocked:{code:e.ErrorCodes.LICENSE_UNLOCK_ERROR,message:e.ErrorMessages.LICENSE_REMOTE_LOCKED},licenseNetworkError:{code:e.ErrorCodes.LICENSE_UNLOCK_ERROR},licenseInvalid:{code:e.ErrorCodes.LICENSE_UNLOCK_ERROR}},b={runnerMissing:{message:e.ErrorMessages.LOCAL_SDK_RUNNER_MISSING,code:e.ErrorCodes.LOCAL_SDK_RUNNER_MISSING},runnerEmpty:{message:e.ErrorMessages.LOCAL_SDK_RUNNER_EMPTY,code:e.ErrorCodes.LOCAL_SDK_RUNNER_EMPTY}},W={imageProcessFailure:{message:e.ErrorMessages.WORKER_IMAGE_PROCESS_FAILURE,code:e.ErrorCodes.WORKER_IMAGE_PROCESS_FAILURE},objectInvokeFailure:{message:e.ErrorMessages.WORKER_OBJECT_INVOKE_FAILURE,code:e.ErrorCodes.WORKER_OBJECT_INVOKE_FAILURE},runnerDeleteFailure:{message:e.ErrorMessages.WORKER_RUNNER_DELETE_FAILURE,code:e.ErrorCodes.WORKER_RUNNER_DELETE_FAILURE},runnerDeleted:{message:e.ErrorMessages.WORKER_RUNNER_DELETED,code:e.ErrorCodes.WORKER_RUNNER_DELETED},runnerReconfigureFailure:{message:e.ErrorMessages.WORKER_RUNNER_RECONFIGURE_FAILURE,code:e.ErrorCodes.WORKER_RUNNER_RECONFIGURE_FAILURE},runnerMissing:{message:e.ErrorMessages.WORKER_RUNNER_MISSING,code:e.ErrorCodes.WORKER_RUNNER_MISSING},runnerCreationFailure:{message:e.ErrorMessages.WORKER_RUNNER_CREATION_FAILURE,code:e.ErrorCodes.WORKER_RUNNER_CREATION_FAILURE},runnerExists:{message:e.ErrorMessages.WORKER_RUNNER_EXISTS,code:e.ErrorCodes.WORKER_RUNNER_EXISTS},recognizerCreationFailure:{message:e.ErrorMessages.WORKER_RECOGNIZER_CREATION_FAILURE,code:e.ErrorCodes.WORKER_RECOGNIZER_CREATION_FAILURE},functionInvokeFailure:{message:e.ErrorMessages.WORKER_FUNCTION_INVOKE_FAILURE,code:e.ErrorCodes.WORKER_FUNCTION_INVOKE_FAILURE},wasmInitMissing:{message:e.ErrorMessages.WORKER_WASM_INIT_MISSING,code:e.ErrorCodes.WORKER_WASM_INIT_MISSING},wasmLoadFailure:{message:e.ErrorMessages.WORKER_WASM_LOAD_FAILURE,code:e.ErrorCodes.WORKER_WASM_LOAD_FAILURE},handleUndefined:{message:e.ErrorMessages.WORKER_HANDLE_UNDEFINED,code:e.ErrorCodes.WORKER_HANDLE_UNDEFINED},integrationInfoFailure:{message:e.ErrorMessages.WORKER_INTEGRATION_INFO_FAILURE,code:e.ErrorCodes.WORKER_INTEGRATION_INFO_FAILURE}};var y;(y=e.PreferredCameraType||(e.PreferredCameraType={}))[y.BackFacingCamera=0]="BackFacingCamera",y[y.FrontFacingCamera=1]="FrontFacingCamera";const V=["rear","back","rück","arrière","trasera","trás","traseira","posteriore","后面","後面","背面","后置","後置","背置","задней","الخلفية","후","arka","achterzijde","หลัง","baksidan","bagside","sau","bak","tylny","takakamera","belakang","אחורית","πίσω","spate","hátsó","zadní","darrere","zadná","задня","stražnja","belakang","बैक"];function w(e){const t=e.toLowerCase();return V.some((e=>t.includes(e)))}class k{constructor(e,t){this.deviceId=e.deviceId,this.facing=t,this.groupId=e.groupId,this.label=e.label}}function H(){return t(this,void 0,void 0,(function*(){const t=[],r=[];{let i=yield navigator.mediaDevices.enumerateDevices();if(i.filter((e=>"videoinput"===e.kind)).every((e=>""===e.label))){const e=yield navigator.mediaDevices.getUserMedia({video:{facingMode:{ideal:"environment"}},audio:!1});i=yield navigator.mediaDevices.enumerateDevices(),e.getTracks().forEach((e=>e.stop()))}const s=i.filter((e=>"videoinput"===e.kind));for(const i of s)w(i.label)?r.push(new k(i,e.PreferredCameraType.BackFacingCamera)):t.push(new k(i,e.PreferredCameraType.FrontFacingCamera))}return{frontCameras:t,backCameras:r}}))}function B(r,i){return t(this,void 0,void 0,(function*(){const{frontCameras:t,backCameras:s}=yield H();if(t.length>0||s.length>0){let o=s.length>0?s:t;i===e.PreferredCameraType.BackFacingCamera&&s.length>0&&(o=s),i===e.PreferredCameraType.FrontFacingCamera&&t.length>0&&(o=t),o=o.sort(((e,t)=>e.label.localeCompare(t.label)));{let e=0;const i=o.map((e=>{const t=RegExp(/\b([0-9]+)MP?\b/,"i").exec(e.label);return null!==t?parseInt(t[1],10):NaN}));if(i.some((e=>isNaN(e)))||(e=i.lastIndexOf(Math.max(...i))),r){let e;return e=t.filter((e=>e.deviceId===r))[0],e||(e=s.filter((e=>e.deviceId===r))[0]),e||null}return o[e]}}return null}))}function Y(r,i,s=e.PreferredCameraType.BackFacingCamera,o=!1){var n,a;return t(this,void 0,void 0,(function*(){const t={audio:!1,video:{width:{min:640,ideal:1920,max:1920},height:{min:480,ideal:1080,max:1080}}};if(""===r.deviceId){t.video.facingMode={ideal:s===e.PreferredCameraType.BackFacingCamera?"environment":"user"}}else t.video.deviceId={exact:r.deviceId};const A=yield navigator.mediaDevices.getUserMedia(t);i.controls=!1,i.srcObject=A;const E=[];let R=!1;if(r.facing===e.PreferredCameraType.FrontFacingCamera&&(E.push("scaleX(-1)"),R=!0),o){const e=A.getVideoTracks()[0],t=e.getCapabilities();e.applyConstraints({width:null===(n=t.width)||void 0===n?void 0:n.max,height:null===(a=t.height)||void 0===a?void 0:a.max}),E.push("scale(1.5)")}return i.style.transform=E.join(" "),R}))}function Z(e){e&&null!==e.srcObject&&(e.srcObject.getTracks().forEach((e=>e.stop())),e.srcObject=null)}function z(){return navigator.userAgent.indexOf("iPhone OS 16_")>-1}var x,J;let j;(x=e.ImageOrientation||(e.ImageOrientation={}))[x.RotatedLeft90=0]="RotatedLeft90",x[x.NoRotation=1]="NoRotation",x[x.RotatedRight90=2]="RotatedRight90",x[x.Rotated180=3]="Rotated180",(J=e.RecognizerResultState||(e.RecognizerResultState={}))[J.Empty=0]="Empty",J[J.Uncertain=1]="Uncertain",J[J.Valid=2]="Valid",J[J.StageValid=3]="StageValid";class Q{constructor(e,t,r){this.imageData=e,this.orientation=t,this.videoFrame=r}}function X(t,r=!1){let i,s,o=!1;if(t instanceof HTMLVideoElement)i=t.videoWidth,s=t.videoHeight,o=!0;else if(t instanceof HTMLImageElement)i=t.naturalWidth,s=t.naturalHeight;else{if(t instanceof SVGImageElement)throw new P(f.svgUnsupported);i=t.width,s=t.height}j=j||document.createElement("canvas"),j.width=i,j.height=s;const n=j.getContext("2d",{willReadFrequently:!0});if(!n)throw new P(f.canvasMissing);n.drawImage(t,0,0,j.width,j.height);const a=r?.66:1,A=j.width*a,E=j.height*a,R=n.getImageData((j.width-A)/2,(j.height-E)/2,A,E);return new Q(R,e.ImageOrientation.NoRotation,o)}var q,$;(q=e.LicenseTokenState||(e.LicenseTokenState={}))[q.Invalid=0]="Invalid",q[q.RequiresServerPermission=1]="RequiresServerPermission",q[q.Valid=2]="Valid",($=e.LicenseErrorType||(e.LicenseErrorType={})).LicenseTokenStateInvalid="LICENSE_TOKEN_STATE_INVALID",$.NetworkError="NETWORK_ERROR",$.RemoteLock="REMOTE_LOCK",$.PermissionExpired="PERMISSION_EXPIRED",$.PayloadCorrupted="PAYLOAD_CORRUPTED",$.PayloadSignatureVerificationFailed="PAYLOAD_SIGNATURE_VERIFICATION_FAILED",$.IncorrectTokenState="INCORRECT_TOKEN_STATE";const ee="https://baltazar.microblink.com/api/v1/status/check";function te(e){return{licenseId:e.licenseId,licensee:e.licensee,packageName:e.packageName,platform:"Browser",sdkName:e.sdkName,sdkVersion:e.sdkVersion}}var re,ie,se,oe;function ne(r,i){return t(this,void 0,void 0,(function*(){try{const t=yield fetch(ee,{method:"POST",headers:{"Content-Type":"application/json"},cache:"no-cache",body:JSON.stringify(te(r))});if(t.ok){const e=""+(yield t.text());return i.submitServerPermission(e)}return{status:e.ServerPermissionSubmitResultStatus.NetworkError,lease:0,networkErrorDescription:"Server responded with status "+t.status}}catch(t){return{status:e.ServerPermissionSubmitResultStatus.NetworkError,lease:0,networkErrorDescription:"Unexpected error: "+JSON.stringify(t)}}}))}(re=e.ServerPermissionSubmitResultStatus||(e.ServerPermissionSubmitResultStatus={}))[re.Ok=0]="Ok",re[re.NetworkError=1]="NetworkError",re[re.RemoteLock=2]="RemoteLock",re[re.PermissionExpired=3]="PermissionExpired",re[re.PayloadCorrupted=4]="PayloadCorrupted",re[re.PayloadSignatureVerificationFailed=5]="PayloadSignatureVerificationFailed",re[re.IncorrectTokenState=6]="IncorrectTokenState",(ie=e.DetectionStatus||(e.DetectionStatus={}))[ie.Fail=0]="Fail",ie[ie.Success=1]="Success",ie[ie.CameraTooHigh=2]="CameraTooHigh",ie[ie.FallbackSuccess=3]="FallbackSuccess",ie[ie.Partial=4]="Partial",ie[ie.CameraAtAngle=5]="CameraAtAngle",ie[ie.CameraTooNear=6]="CameraTooNear",ie[ie.DocumentTooCloseToEdge=7]="DocumentTooCloseToEdge",(se=e.NotSupportedReason||(e.NotSupportedReason={})).MediaDevicesNotSupported="MediaDevicesNotSupported",se.CameraNotFound="CameraNotFound",se.CameraNotAllowed="CameraNotAllowed",se.CameraInUse="CameraInUse",se.CameraNotAvailable="CameraNotAvailable",se.VideoElementNotProvided="VideoElementNotProvided",(oe=e.VideoRecognitionMode||(e.VideoRecognitionMode={}))[oe.Recognition=0]="Recognition",oe[oe.RecognitionTest=1]="RecognitionTest",oe[oe.DetectionTest=2]="DetectionTest";class ae{constructor(t,r,i=!1,s=!1,o=null){this.deviceId=null,this.videoFeed=null,this.cancelled=!1,this.timedOut=!1,this.recognitionPaused=!1,this.recognitionTimeoutMs=2e4,this.timeoutID=0,this.videoRecognitionMode=e.VideoRecognitionMode.Recognition,this.onScanningDone=null,this.allowManualVideoPlayout=!1,this.cameraFlipped=!1,this.shouldReleaseVideoFeed=!1,this.isProblematicFocus=!1,this.videoFeed=t,this.recognizerRunner=r,this.cameraFlipped=i,this.allowManualVideoPlayout=s,this.deviceId=o,this.isProblematicFocus=z()}static createVideoRecognizerFromCameraStream(r,i,s=null,o=e.PreferredCameraType.BackFacingCamera){return t(this,void 0,void 0,(function*(){return new Promise(((n,a)=>t(this,void 0,void 0,(function*(){if(r&&r instanceof Element)if(navigator.mediaDevices&&void 0!==navigator.mediaDevices.getUserMedia)try{const t=yield B(s,o);if(null===t)return void a(new P(G.cameraMissing,{reason:e.NotSupportedReason.CameraNotFound}));const A=z(),E=yield Y(t,r,o,A);yield i.setCameraPreviewMirrored(E),n(new ae(r,i,E,!1,t.deviceId))}catch(t){let r=e.NotSupportedReason.CameraInUse,i=e.ErrorCodes.VIDEO_RECOGNIZER_CAMERA_IN_USE;switch(t.name){case"NotFoundError":case"OverconstrainedError":r=e.NotSupportedReason.CameraNotFound,i=e.ErrorCodes.VIDEO_RECOGNIZER_CAMERA_MISSING;break;case"NotAllowedError":case"SecurityError":r=e.NotSupportedReason.CameraNotAllowed,i=e.ErrorCodes.VIDEO_RECOGNIZER_CAMERA_NOT_ALLOWED;break;case"AbortError":case"NotReadableError":r=e.NotSupportedReason.CameraNotAvailable,i=e.ErrorCodes.VIDEO_RECOGNIZER_CAMERA_UNAVAILABLE;break;case"TypeError":throw t}a(new P({message:t.message,code:i},{reason:r}))}else a(new P(G.mediaDevicesUnsupported,{reason:e.NotSupportedReason.MediaDevicesNotSupported}));else a(new P(G.elementMissing,{reason:e.NotSupportedReason.VideoElementNotProvided}))}))))}))}static createVideoRecognizerFromVideoPath(e,r,i){return t(this,void 0,void 0,(function*(){return new Promise((t=>{r.src=e,r.currentTime=0,r.onended=()=>{s.cancelRecognition()};const s=new ae(r,i);t(s)}))}))}flipCamera(){return t(this,void 0,void 0,(function*(){this.videoFeed&&(this.cameraFlipped?(this.videoFeed.style.transform="scaleX(1)",this.cameraFlipped=!1):(this.videoFeed.style.transform="scaleX(-1)",this.cameraFlipped=!0),yield this.recognizerRunner.setCameraPreviewMirrored(this.cameraFlipped))}))}isCameraFlipped(){return this.cameraFlipped}setVideoRecognitionMode(r){return t(this,void 0,void 0,(function*(){this.videoRecognitionMode=r;const t=this.videoRecognitionMode===e.VideoRecognitionMode.DetectionTest;yield this.recognizerRunner.setDetectionOnlyMode(t)}))}startRecognition(e,t=2e4){return new Promise(((r,i)=>{null!==this.videoFeed?this.videoFeed.paused?(this.cancelled=!1,this.recognitionPaused=!1,this.clearTimeout(),this.recognitionTimeoutMs=t,this.onScanningDone=e,this.recognizerRunner.setClearTimeoutCallback({onClearTimeout:()=>this.clearTimeout()}),this.videoFeed.play().then((()=>this.playPauseEvent().then((()=>r())).catch((e=>i(e)))),(e=>{this.allowManualVideoPlayout?this.videoFeed&&(this.videoFeed.controls=!0,this.videoFeed.addEventListener("play",(()=>{this.playPauseEvent().then().catch((e=>i(e)))})),this.videoFeed.addEventListener("pause",(()=>{this.playPauseEvent().then().catch((e=>i(e)))}))):i(new P(G.playRequestInterrupted,e))}))):i(new P(G.videoFeedNotPaused)):i(new P(G.videoFeedReleased))}))}recognize(e=2e4){return new Promise(((t,r)=>{try{this.startRecognition((e=>{this.pauseVideoFeed(),t(e)}),e).then().catch((e=>r(e)))}catch(e){r(e)}}))}cancelRecognition(){this.cancelled=!0}pauseVideoFeed(){this.pauseRecognition(),this.videoFeed&&this.videoFeed.pause()}pauseRecognition(){this.recognitionPaused=!0}resetRecognizers(e){return t(this,void 0,void 0,(function*(){yield this.recognizerRunner.resetRecognizers(e)}))}getRecognizerRunner(){return this.recognizerRunner}resumeRecognition(e){return new Promise(((t,r)=>{this.cancelled=!1,this.timedOut=!1,this.recognitionPaused=!1,this.videoFeed&&this.videoFeed.paused?r(new P(G.feedPaused)):setTimeout((()=>{e?this.resetRecognizers(!0).then((()=>{this.recognitionLoop().then((()=>t())).catch((e=>r(e)))})).catch((()=>{r(new P(G.recognizersResetFailure))})):this.recognitionLoop().then((()=>t())).catch((e=>r(e)))}),1)}))}releaseVideoFeed(){var e,t;this.videoFeed&&(null===(e=this.videoFeed)||void 0===e?void 0:e.readyState)>=(null===(t=this.videoFeed)||void 0===t?void 0:t.HAVE_CURRENT_DATA)?(this.videoFeed.paused||this.cancelRecognition(),Z(this.videoFeed),this.videoFeed=null,this.shouldReleaseVideoFeed=!1):this.shouldReleaseVideoFeed=!0}changeCameraDevice(e){return new Promise(((t,r)=>{null!==this.videoFeed?(this.pauseRecognition(),Z(this.videoFeed),Y(e,this.videoFeed,void 0,this.isProblematicFocus).then((()=>{null!==this.videoFeed?this.videoFeed.play().then((()=>{this.resumeRecognition(!0),t()}),(e=>{this.allowManualVideoPlayout?this.videoFeed?this.videoFeed.controls=!0:r(new P(G.feedMissing)):r(new P(G.playRequestInterrupted,e))})):r(new P(G.feedMissing))})).catch((e=>r(e)))):r(new P(G.feedMissing))}))}playPauseEvent(){return new Promise(((e,t)=>{if(this.videoFeed&&this.videoFeed.paused)return this.cancelRecognition(),void e();this.resumeRecognition(!0).then((()=>e())).catch((e=>t(e)))}))}recognitionLoop(){return new Promise(((t,r)=>{if(!this.videoFeed)return void r(new P(G.feedMissing));if(this.shouldReleaseVideoFeed&&this.videoFeed.readyState>this.videoFeed.HAVE_CURRENT_DATA)return this.releaseVideoFeed(),void t();const i=X(this.videoFeed,this.isProblematicFocus);this.recognizerRunner.processImage(i).then((i=>{const s=this.isProblematicFocus?33:1,o=()=>{this.recognitionPaused?t():setTimeout((()=>{this.recognitionLoop().then((()=>t())).catch((e=>r(e)))}),s)};if(i===e.RecognizerResultState.Valid||this.cancelled||this.timedOut){if(this.videoRecognitionMode!==e.VideoRecognitionMode.Recognition&&!this.cancelled)return void this.recognizerRunner.resetRecognizers(!0).then((()=>{this.clearTimeout(),o()})).catch((e=>r(e)));this.clearTimeout(),this.onScanningDone&&this.onScanningDone(i)}else{if(i===e.RecognizerResultState.Uncertain)return 0===this.timeoutID&&(this.timeoutID=window.setTimeout((()=>{this.timedOut=!0}),this.recognitionTimeoutMs)),void o();if(i===e.RecognizerResultState.StageValid)return this.clearTimeout(),void o()}o()})).catch((e=>r(e)))}))}clearTimeout(){this.timeoutID>0&&(window.clearTimeout(this.timeoutID),this.timeoutID=0)}}const Ae=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11])),Ee=()=>(async e=>{try{return"undefined"!=typeof MessageChannel&&(new MessageChannel).port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(e)}catch(e){return!1}})(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11]));function Re(){return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,(e=>(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)))}var Ie,Ne,ce,de,_e,Se,le,Oe,Ce,ue,De,Te;(Ie=e.BarcodeFormat||(e.BarcodeFormat={}))[Ie.NONE=0]="NONE",Ie[Ie.QR_CODE=1]="QR_CODE",Ie[Ie.DATA_MATRIX=2]="DATA_MATRIX",Ie[Ie.UPC_E=3]="UPC_E",Ie[Ie.UPC_A=4]="UPC_A",Ie[Ie.EAN_8=5]="EAN_8",Ie[Ie.EAN_13=6]="EAN_13",Ie[Ie.CODE_128=7]="CODE_128",Ie[Ie.CODE_39=8]="CODE_39",Ie[Ie.ITF=9]="ITF",Ie[Ie.AZTEC_BARCODE=10]="AZTEC_BARCODE",Ie[Ie.PDF417_BARCODE=11]="PDF417_BARCODE",(Ne=e.AnonymizationMode||(e.AnonymizationMode={}))[Ne.None=0]="None",Ne[Ne.ImageOnly=1]="ImageOnly",Ne[Ne.ResultFieldsOnly=2]="ResultFieldsOnly",Ne[Ne.FullResult=3]="FullResult";class me{constructor(){this.enableMrzId=!0,this.enableMrzPassport=!0,this.enableMrzVisa=!0,this.enablePhotoId=!0,this.enableBarcodeId=!0,this.enableFullDocumentRecognition=!0}}class Le{constructor(e=0,t=0,r=0,i=0){this.upFactor=0,this.downFactor=0,this.leftFactor=0,this.rightFactor=0,this.checkExtensionFactor(e),this.checkExtensionFactor(t),this.checkExtensionFactor(r),this.checkExtensionFactor(i),this.upFactor=e,this.downFactor=t,this.leftFactor=r,this.rightFactor=i}checkExtensionFactor(e){if(e>1||-1>e)throw Error("Extension factor must be in range [-1.0, 1.0]")}}function ge(e){if(100>e||e>400)throw Error("DPI must be from interval [100, 400]")}(ce=e.BarcodeElementKey||(e.BarcodeElementKey={}))[ce.DocumentType=0]="DocumentType",ce[ce.StandardVersionNumber=1]="StandardVersionNumber",ce[ce.CustomerFamilyName=2]="CustomerFamilyName",ce[ce.CustomerFirstName=3]="CustomerFirstName",ce[ce.CustomerFullName=4]="CustomerFullName",ce[ce.DateOfBirth=5]="DateOfBirth",ce[ce.Sex=6]="Sex",ce[ce.EyeColor=7]="EyeColor",ce[ce.AddressStreet=8]="AddressStreet",ce[ce.AddressCity=9]="AddressCity",ce[ce.AddressJurisdictionCode=10]="AddressJurisdictionCode",ce[ce.AddressPostalCode=11]="AddressPostalCode",ce[ce.FullAddress=12]="FullAddress",ce[ce.Height=13]="Height",ce[ce.HeightIn=14]="HeightIn",ce[ce.HeightCm=15]="HeightCm",ce[ce.CustomerMiddleName=16]="CustomerMiddleName",ce[ce.HairColor=17]="HairColor",ce[ce.NameSuffix=18]="NameSuffix",ce[ce.AKAFullName=19]="AKAFullName",ce[ce.AKAFamilyName=20]="AKAFamilyName",ce[ce.AKAGivenName=21]="AKAGivenName",ce[ce.AKASuffixName=22]="AKASuffixName",ce[ce.WeightRange=23]="WeightRange",ce[ce.WeightPounds=24]="WeightPounds",ce[ce.WeightKilograms=25]="WeightKilograms",ce[ce.CustomerIdNumber=26]="CustomerIdNumber",ce[ce.FamilyNameTruncation=27]="FamilyNameTruncation",ce[ce.FirstNameTruncation=28]="FirstNameTruncation",ce[ce.MiddleNameTruncation=29]="MiddleNameTruncation",ce[ce.PlaceOfBirth=30]="PlaceOfBirth",ce[ce.AddressStreet2=31]="AddressStreet2",ce[ce.RaceEthnicity=32]="RaceEthnicity",ce[ce.NamePrefix=33]="NamePrefix",ce[ce.CountryIdentification=34]="CountryIdentification",ce[ce.ResidenceStreetAddress=35]="ResidenceStreetAddress",ce[ce.ResidenceStreetAddress2=36]="ResidenceStreetAddress2",ce[ce.ResidenceCity=37]="ResidenceCity",ce[ce.ResidenceJurisdictionCode=38]="ResidenceJurisdictionCode",ce[ce.ResidencePostalCode=39]="ResidencePostalCode",ce[ce.ResidenceFullAddress=40]="ResidenceFullAddress",ce[ce.Under18=41]="Under18",ce[ce.Under19=42]="Under19",ce[ce.Under21=43]="Under21",ce[ce.SocialSecurityNumber=44]="SocialSecurityNumber",ce[ce.AKASocialSecurityNumber=45]="AKASocialSecurityNumber",ce[ce.AKAMiddleName=46]="AKAMiddleName",ce[ce.AKAPrefixName=47]="AKAPrefixName",ce[ce.OrganDonor=48]="OrganDonor",ce[ce.Veteran=49]="Veteran",ce[ce.AKADateOfBirth=50]="AKADateOfBirth",ce[ce.IssuerIdentificationNumber=51]="IssuerIdentificationNumber",ce[ce.DocumentExpirationDate=52]="DocumentExpirationDate",ce[ce.JurisdictionVersionNumber=53]="JurisdictionVersionNumber",ce[ce.JurisdictionVehicleClass=54]="JurisdictionVehicleClass",ce[ce.JurisdictionRestrictionCodes=55]="JurisdictionRestrictionCodes",ce[ce.JurisdictionEndorsementCodes=56]="JurisdictionEndorsementCodes",ce[ce.DocumentIssueDate=57]="DocumentIssueDate",ce[ce.FederalCommercialVehicleCodes=58]="FederalCommercialVehicleCodes",ce[ce.IssuingJurisdiction=59]="IssuingJurisdiction",ce[ce.StandardVehicleClassification=60]="StandardVehicleClassification",ce[ce.IssuingJurisdictionName=61]="IssuingJurisdictionName",ce[ce.StandardEndorsementCode=62]="StandardEndorsementCode",ce[ce.StandardRestrictionCode=63]="StandardRestrictionCode",ce[ce.JurisdictionVehicleClassificationDescription=64]="JurisdictionVehicleClassificationDescription",ce[ce.JurisdictionEndorsmentCodeDescription=65]="JurisdictionEndorsmentCodeDescription",ce[ce.JurisdictionRestrictionCodeDescription=66]="JurisdictionRestrictionCodeDescription",ce[ce.InventoryControlNumber=67]="InventoryControlNumber",ce[ce.CardRevisionDate=68]="CardRevisionDate",ce[ce.DocumentDiscriminator=69]="DocumentDiscriminator",ce[ce.LimitedDurationDocument=70]="LimitedDurationDocument",ce[ce.AuditInformation=71]="AuditInformation",ce[ce.ComplianceType=72]="ComplianceType",ce[ce.IssueTimestamp=73]="IssueTimestamp",ce[ce.PermitExpirationDate=74]="PermitExpirationDate",ce[ce.PermitIdentifier=75]="PermitIdentifier",ce[ce.PermitIssueDate=76]="PermitIssueDate",ce[ce.NumberOfDuplicates=77]="NumberOfDuplicates",ce[ce.HAZMATExpirationDate=78]="HAZMATExpirationDate",ce[ce.MedicalIndicator=79]="MedicalIndicator",ce[ce.NonResident=80]="NonResident",ce[ce.UniqueCustomerId=81]="UniqueCustomerId",ce[ce.DataDiscriminator=82]="DataDiscriminator",ce[ce.DocumentExpirationMonth=83]="DocumentExpirationMonth",ce[ce.DocumentNonexpiring=84]="DocumentNonexpiring",ce[ce.SecurityVersion=85]="SecurityVersion",ce[ce.Count=86]="Count",(de=e.Country||(e.Country={}))[de.NONE=0]="NONE",de[de.ALBANIA=1]="ALBANIA",de[de.ALGERIA=2]="ALGERIA",de[de.ARGENTINA=3]="ARGENTINA",de[de.AUSTRALIA=4]="AUSTRALIA",de[de.AUSTRIA=5]="AUSTRIA",de[de.AZERBAIJAN=6]="AZERBAIJAN",de[de.BAHRAIN=7]="BAHRAIN",de[de.BANGLADESH=8]="BANGLADESH",de[de.BELGIUM=9]="BELGIUM",de[de.BOSNIA_AND_HERZEGOVINA=10]="BOSNIA_AND_HERZEGOVINA",de[de.BRUNEI=11]="BRUNEI",de[de.BULGARIA=12]="BULGARIA",de[de.CAMBODIA=13]="CAMBODIA",de[de.CANADA=14]="CANADA",de[de.CHILE=15]="CHILE",de[de.COLOMBIA=16]="COLOMBIA",de[de.COSTA_RICA=17]="COSTA_RICA",de[de.CROATIA=18]="CROATIA",de[de.CYPRUS=19]="CYPRUS",de[de.CZECHIA=20]="CZECHIA",de[de.DENMARK=21]="DENMARK",de[de.DOMINICAN_REPUBLIC=22]="DOMINICAN_REPUBLIC",de[de.EGYPT=23]="EGYPT",de[de.ESTONIA=24]="ESTONIA",de[de.FINLAND=25]="FINLAND",de[de.FRANCE=26]="FRANCE",de[de.GEORGIA=27]="GEORGIA",de[de.GERMANY=28]="GERMANY",de[de.GHANA=29]="GHANA",de[de.GREECE=30]="GREECE",de[de.GUATEMALA=31]="GUATEMALA",de[de.HONG_KONG=32]="HONG_KONG",de[de.HUNGARY=33]="HUNGARY",de[de.INDIA=34]="INDIA",de[de.INDONESIA=35]="INDONESIA",de[de.IRELAND=36]="IRELAND",de[de.ISRAEL=37]="ISRAEL",de[de.ITALY=38]="ITALY",de[de.JORDAN=39]="JORDAN",de[de.KAZAKHSTAN=40]="KAZAKHSTAN",de[de.KENYA=41]="KENYA",de[de.KOSOVO=42]="KOSOVO",de[de.KUWAIT=43]="KUWAIT",de[de.LATVIA=44]="LATVIA",de[de.LITHUANIA=45]="LITHUANIA",de[de.MALAYSIA=46]="MALAYSIA",de[de.MALDIVES=47]="MALDIVES",de[de.MALTA=48]="MALTA",de[de.MAURITIUS=49]="MAURITIUS",de[de.MEXICO=50]="MEXICO",de[de.MOROCCO=51]="MOROCCO",de[de.NETHERLANDS=52]="NETHERLANDS",de[de.NEW_ZEALAND=53]="NEW_ZEALAND",de[de.NIGERIA=54]="NIGERIA",de[de.PAKISTAN=55]="PAKISTAN",de[de.PANAMA=56]="PANAMA",de[de.PARAGUAY=57]="PARAGUAY",de[de.PHILIPPINES=58]="PHILIPPINES",de[de.POLAND=59]="POLAND",de[de.PORTUGAL=60]="PORTUGAL",de[de.PUERTO_RICO=61]="PUERTO_RICO",de[de.QATAR=62]="QATAR",de[de.ROMANIA=63]="ROMANIA",de[de.RUSSIA=64]="RUSSIA",de[de.SAUDI_ARABIA=65]="SAUDI_ARABIA",de[de.SERBIA=66]="SERBIA",de[de.SINGAPORE=67]="SINGAPORE",de[de.SLOVAKIA=68]="SLOVAKIA",de[de.SLOVENIA=69]="SLOVENIA",de[de.SOUTH_AFRICA=70]="SOUTH_AFRICA",de[de.SPAIN=71]="SPAIN",de[de.SWEDEN=72]="SWEDEN",de[de.SWITZERLAND=73]="SWITZERLAND",de[de.TAIWAN=74]="TAIWAN",de[de.THAILAND=75]="THAILAND",de[de.TUNISIA=76]="TUNISIA",de[de.TURKEY=77]="TURKEY",de[de.UAE=78]="UAE",de[de.UGANDA=79]="UGANDA",de[de.UK=80]="UK",de[de.UKRAINE=81]="UKRAINE",de[de.USA=82]="USA",de[de.VIETNAM=83]="VIETNAM",de[de.BRAZIL=84]="BRAZIL",de[de.NORWAY=85]="NORWAY",de[de.OMAN=86]="OMAN",de[de.ECUADOR=87]="ECUADOR",de[de.EL_SALVADOR=88]="EL_SALVADOR",de[de.SRI_LANKA=89]="SRI_LANKA",de[de.PERU=90]="PERU",de[de.URUGUAY=91]="URUGUAY",de[de.BAHAMAS=92]="BAHAMAS",de[de.BERMUDA=93]="BERMUDA",de[de.BOLIVIA=94]="BOLIVIA",de[de.CHINA=95]="CHINA",de[de.EUROPEAN_UNION=96]="EUROPEAN_UNION",de[de.HAITI=97]="HAITI",de[de.HONDURAS=98]="HONDURAS",de[de.ICELAND=99]="ICELAND",de[de.JAPAN=100]="JAPAN",de[de.LUXEMBOURG=101]="LUXEMBOURG",de[de.MONTENEGRO=102]="MONTENEGRO",de[de.NICARAGUA=103]="NICARAGUA",de[de.SOUTH_KOREA=104]="SOUTH_KOREA",de[de.VENEZUELA=105]="VENEZUELA",de[de.AFGHANISTAN=106]="AFGHANISTAN",de[de.ALAND_ISLANDS=107]="ALAND_ISLANDS",de[de.AMERICAN_SAMOA=108]="AMERICAN_SAMOA",de[de.ANDORRA=109]="ANDORRA",de[de.ANGOLA=110]="ANGOLA",de[de.ANGUILLA=111]="ANGUILLA",de[de.ANTARCTICA=112]="ANTARCTICA",de[de.ANTIGUA_AND_BARBUDA=113]="ANTIGUA_AND_BARBUDA",de[de.ARMENIA=114]="ARMENIA",de[de.ARUBA=115]="ARUBA",de[de.BAILIWICK_OF_GUERNSEY=116]="BAILIWICK_OF_GUERNSEY",de[de.BAILIWICK_OF_JERSEY=117]="BAILIWICK_OF_JERSEY",de[de.BARBADOS=118]="BARBADOS",de[de.BELARUS=119]="BELARUS",de[de.BELIZE=120]="BELIZE",de[de.BENIN=121]="BENIN",de[de.BHUTAN=122]="BHUTAN",de[de.BONAIRE_SAINT_EUSTATIUS_AND_SABA=123]="BONAIRE_SAINT_EUSTATIUS_AND_SABA",de[de.BOTSWANA=124]="BOTSWANA",de[de.BOUVET_ISLAND=125]="BOUVET_ISLAND",de[de.BRITISH_INDIAN_OCEAN_TERRITORY=126]="BRITISH_INDIAN_OCEAN_TERRITORY",de[de.BURKINA_FASO=127]="BURKINA_FASO",de[de.BURUNDI=128]="BURUNDI",de[de.CAMEROON=129]="CAMEROON",de[de.CAPE_VERDE=130]="CAPE_VERDE",de[de.CARIBBEAN_NETHERLANDS=131]="CARIBBEAN_NETHERLANDS",de[de.CAYMAN_ISLANDS=132]="CAYMAN_ISLANDS",de[de.CENTRAL_AFRICAN_REPUBLIC=133]="CENTRAL_AFRICAN_REPUBLIC",de[de.CHAD=134]="CHAD",de[de.CHRISTMAS_ISLAND=135]="CHRISTMAS_ISLAND",de[de.COCOS_ISLANDS=136]="COCOS_ISLANDS",de[de.COMOROS=137]="COMOROS",de[de.CONGO=138]="CONGO",de[de.COOK_ISLANDS=139]="COOK_ISLANDS",de[de.CUBA=140]="CUBA",de[de.CURACAO=141]="CURACAO",de[de.DEMOCRATIC_REPUBLIC_OF_THE_CONGO=142]="DEMOCRATIC_REPUBLIC_OF_THE_CONGO",de[de.DJIBOUTI=143]="DJIBOUTI",de[de.DOMINICA=144]="DOMINICA",de[de.EAST_TIMOR=145]="EAST_TIMOR",de[de.EQUATORIAL_GUINEA=146]="EQUATORIAL_GUINEA",de[de.ERITREA=147]="ERITREA",de[de.ETHIOPIA=148]="ETHIOPIA",de[de.FALKLAND_ISLANDS=149]="FALKLAND_ISLANDS",de[de.FAROE_ISLANDS=150]="FAROE_ISLANDS",de[de.FEDERATED_STATES_OF_MICRONESIA=151]="FEDERATED_STATES_OF_MICRONESIA",de[de.FIJI=152]="FIJI",de[de.FRENCH_GUIANA=153]="FRENCH_GUIANA",de[de.FRENCH_POLYNESIA=154]="FRENCH_POLYNESIA",de[de.FRENCH_SOUTHERN_TERRITORIES=155]="FRENCH_SOUTHERN_TERRITORIES",de[de.GABON=156]="GABON",de[de.GAMBIA=157]="GAMBIA",de[de.GIBRALTAR=158]="GIBRALTAR",de[de.GREENLAND=159]="GREENLAND",de[de.GRENADA=160]="GRENADA",de[de.GUADELOUPE=161]="GUADELOUPE",de[de.GUAM=162]="GUAM",de[de.GUINEA=163]="GUINEA",de[de.GUINEA_BISSAU=164]="GUINEA_BISSAU",de[de.GUYANA=165]="GUYANA",de[de.HEARD_ISLAND_AND_MCDONALD_ISLANDS=166]="HEARD_ISLAND_AND_MCDONALD_ISLANDS",de[de.IRAN=167]="IRAN",de[de.IRAQ=168]="IRAQ",de[de.ISLE_OF_MAN=169]="ISLE_OF_MAN",de[de.IVORY_COAST=170]="IVORY_COAST",de[de.JAMAICA=171]="JAMAICA",de[de.KIRIBATI=172]="KIRIBATI",de[de.KYRGYZSTAN=173]="KYRGYZSTAN",de[de.LAOS=174]="LAOS",de[de.LEBANON=175]="LEBANON",de[de.LESOTHO=176]="LESOTHO",de[de.LIBERIA=177]="LIBERIA",de[de.LIBYA=178]="LIBYA",de[de.LIECHTENSTEIN=179]="LIECHTENSTEIN",de[de.MACAU=180]="MACAU",de[de.MADAGASCAR=181]="MADAGASCAR",de[de.MALAWI=182]="MALAWI",de[de.MALI=183]="MALI",de[de.MARSHALL_ISLANDS=184]="MARSHALL_ISLANDS",de[de.MARTINIQUE=185]="MARTINIQUE",de[de.MAURITANIA=186]="MAURITANIA",de[de.MAYOTTE=187]="MAYOTTE",de[de.MOLDOVA=188]="MOLDOVA",de[de.MONACO=189]="MONACO",de[de.MONGOLIA=190]="MONGOLIA",de[de.MONTSERRAT=191]="MONTSERRAT",de[de.MOZAMBIQUE=192]="MOZAMBIQUE",de[de.MYANMAR=193]="MYANMAR",de[de.NAMIBIA=194]="NAMIBIA",de[de.NAURU=195]="NAURU",de[de.NEPAL=196]="NEPAL",de[de.NEW_CALEDONIA=197]="NEW_CALEDONIA",de[de.NIGER=198]="NIGER",de[de.NIUE=199]="NIUE",de[de.NORFOLK_ISLAND=200]="NORFOLK_ISLAND",de[de.NORTHERN_CYPRUS=201]="NORTHERN_CYPRUS",de[de.NORTHERN_MARIANA_ISLANDS=202]="NORTHERN_MARIANA_ISLANDS",de[de.NORTH_KOREA=203]="NORTH_KOREA",de[de.NORTH_MACEDONIA=204]="NORTH_MACEDONIA",de[de.PALAU=205]="PALAU",de[de.PALESTINE=206]="PALESTINE",de[de.PAPUA_NEW_GUINEA=207]="PAPUA_NEW_GUINEA",de[de.PITCAIRN=208]="PITCAIRN",de[de.REUNION=209]="REUNION",de[de.RWANDA=210]="RWANDA",de[de.SAINT_BARTHELEMY=211]="SAINT_BARTHELEMY",de[de.SAINT_HELENA_ASCENSION_AND_TRISTIAN_DA_CUNHA=212]="SAINT_HELENA_ASCENSION_AND_TRISTIAN_DA_CUNHA",de[de.SAINT_KITTS_AND_NEVIS=213]="SAINT_KITTS_AND_NEVIS",de[de.SAINT_LUCIA=214]="SAINT_LUCIA",de[de.SAINT_MARTIN=215]="SAINT_MARTIN",de[de.SAINT_PIERRE_AND_MIQUELON=216]="SAINT_PIERRE_AND_MIQUELON",de[de.SAINT_VINCENT_AND_THE_GRENADINES=217]="SAINT_VINCENT_AND_THE_GRENADINES",de[de.SAMOA=218]="SAMOA",de[de.SAN_MARINO=219]="SAN_MARINO",de[de.SAO_TOME_AND_PRINCIPE=220]="SAO_TOME_AND_PRINCIPE",de[de.SENEGAL=221]="SENEGAL",de[de.SEYCHELLES=222]="SEYCHELLES",de[de.SIERRA_LEONE=223]="SIERRA_LEONE",de[de.SINT_MAARTEN=224]="SINT_MAARTEN",de[de.SOLOMON_ISLANDS=225]="SOLOMON_ISLANDS",de[de.SOMALIA=226]="SOMALIA",de[de.SOUTH_GEORGIA_AND_THE_SOUTH_SANDWICH_ISLANDS=227]="SOUTH_GEORGIA_AND_THE_SOUTH_SANDWICH_ISLANDS",de[de.SOUTH_SUDAN=228]="SOUTH_SUDAN",de[de.SUDAN=229]="SUDAN",de[de.SURINAME=230]="SURINAME",de[de.SVALBARD_AND_JAN_MAYEN=231]="SVALBARD_AND_JAN_MAYEN",de[de.ESWATINI=232]="ESWATINI",de[de.SYRIA=233]="SYRIA",de[de.TAJIKISTAN=234]="TAJIKISTAN",de[de.TANZANIA=235]="TANZANIA",de[de.TOGO=236]="TOGO",de[de.TOKELAU=237]="TOKELAU",de[de.TONGA=238]="TONGA",de[de.TRINIDAD_AND_TOBAGO=239]="TRINIDAD_AND_TOBAGO",de[de.TURKMENISTAN=240]="TURKMENISTAN",de[de.TURKS_AND_CAICOS_ISLANDS=241]="TURKS_AND_CAICOS_ISLANDS",de[de.TUVALU=242]="TUVALU",de[de.UNITED_STATES_MINOR_OUTLYING_ISLANDS=243]="UNITED_STATES_MINOR_OUTLYING_ISLANDS",de[de.UZBEKISTAN=244]="UZBEKISTAN",de[de.VANUATU=245]="VANUATU",de[de.VATICAN_CITY=246]="VATICAN_CITY",de[de.VIRGIN_ISLANDS_BRITISH=247]="VIRGIN_ISLANDS_BRITISH",de[de.VIRGIN_ISLANDS_US=248]="VIRGIN_ISLANDS_US",de[de.WALLIS_AND_FUTUNA=249]="WALLIS_AND_FUTUNA",de[de.WESTERN_SAHARA=250]="WESTERN_SAHARA",de[de.YEMEN=251]="YEMEN",de[de.YUGOSLAVIA=252]="YUGOSLAVIA",de[de.ZAMBIA=253]="ZAMBIA",de[de.ZIMBABWE=254]="ZIMBABWE",de[de.COUNT=255]="COUNT",(_e=e.Region||(e.Region={}))[_e.NONE=0]="NONE",_e[_e.ALABAMA=1]="ALABAMA",_e[_e.ALASKA=2]="ALASKA",_e[_e.ALBERTA=3]="ALBERTA",_e[_e.ARIZONA=4]="ARIZONA",_e[_e.ARKANSAS=5]="ARKANSAS",_e[_e.AUSTRALIAN_CAPITAL_TERRITORY=6]="AUSTRALIAN_CAPITAL_TERRITORY",_e[_e.BRITISH_COLUMBIA=7]="BRITISH_COLUMBIA",_e[_e.CALIFORNIA=8]="CALIFORNIA",_e[_e.COLORADO=9]="COLORADO",_e[_e.CONNECTICUT=10]="CONNECTICUT",_e[_e.DELAWARE=11]="DELAWARE",_e[_e.DISTRICT_OF_COLUMBIA=12]="DISTRICT_OF_COLUMBIA",_e[_e.FLORIDA=13]="FLORIDA",_e[_e.GEORGIA=14]="GEORGIA",_e[_e.HAWAII=15]="HAWAII",_e[_e.IDAHO=16]="IDAHO",_e[_e.ILLINOIS=17]="ILLINOIS",_e[_e.INDIANA=18]="INDIANA",_e[_e.IOWA=19]="IOWA",_e[_e.KANSAS=20]="KANSAS",_e[_e.KENTUCKY=21]="KENTUCKY",_e[_e.LOUISIANA=22]="LOUISIANA",_e[_e.MAINE=23]="MAINE",_e[_e.MANITOBA=24]="MANITOBA",_e[_e.MARYLAND=25]="MARYLAND",_e[_e.MASSACHUSETTS=26]="MASSACHUSETTS",_e[_e.MICHIGAN=27]="MICHIGAN",_e[_e.MINNESOTA=28]="MINNESOTA",_e[_e.MISSISSIPPI=29]="MISSISSIPPI",_e[_e.MISSOURI=30]="MISSOURI",_e[_e.MONTANA=31]="MONTANA",_e[_e.NEBRASKA=32]="NEBRASKA",_e[_e.NEVADA=33]="NEVADA",_e[_e.NEW_BRUNSWICK=34]="NEW_BRUNSWICK",_e[_e.NEW_HAMPSHIRE=35]="NEW_HAMPSHIRE",_e[_e.NEW_JERSEY=36]="NEW_JERSEY",_e[_e.NEW_MEXICO=37]="NEW_MEXICO",_e[_e.NEW_SOUTH_WALES=38]="NEW_SOUTH_WALES",_e[_e.NEW_YORK=39]="NEW_YORK",_e[_e.NORTHERN_TERRITORY=40]="NORTHERN_TERRITORY",_e[_e.NORTH_CAROLINA=41]="NORTH_CAROLINA",_e[_e.NORTH_DAKOTA=42]="NORTH_DAKOTA",_e[_e.NOVA_SCOTIA=43]="NOVA_SCOTIA",_e[_e.OHIO=44]="OHIO",_e[_e.OKLAHOMA=45]="OKLAHOMA",_e[_e.ONTARIO=46]="ONTARIO",_e[_e.OREGON=47]="OREGON",_e[_e.PENNSYLVANIA=48]="PENNSYLVANIA",_e[_e.QUEBEC=49]="QUEBEC",_e[_e.QUEENSLAND=50]="QUEENSLAND",_e[_e.RHODE_ISLAND=51]="RHODE_ISLAND",_e[_e.SASKATCHEWAN=52]="SASKATCHEWAN",_e[_e.SOUTH_AUSTRALIA=53]="SOUTH_AUSTRALIA",_e[_e.SOUTH_CAROLINA=54]="SOUTH_CAROLINA",_e[_e.SOUTH_DAKOTA=55]="SOUTH_DAKOTA",_e[_e.TASMANIA=56]="TASMANIA",_e[_e.TENNESSEE=57]="TENNESSEE",_e[_e.TEXAS=58]="TEXAS",_e[_e.UTAH=59]="UTAH",_e[_e.VERMONT=60]="VERMONT",_e[_e.VICTORIA=61]="VICTORIA",_e[_e.VIRGINIA=62]="VIRGINIA",_e[_e.WASHINGTON=63]="WASHINGTON",_e[_e.WESTERN_AUSTRALIA=64]="WESTERN_AUSTRALIA",_e[_e.WEST_VIRGINIA=65]="WEST_VIRGINIA",_e[_e.WISCONSIN=66]="WISCONSIN",_e[_e.WYOMING=67]="WYOMING",_e[_e.YUKON=68]="YUKON",_e[_e.CIUDAD_DE_MEXICO=69]="CIUDAD_DE_MEXICO",_e[_e.JALISCO=70]="JALISCO",_e[_e.NEWFOUNDLAND_AND_LABRADOR=71]="NEWFOUNDLAND_AND_LABRADOR",_e[_e.NUEVO_LEON=72]="NUEVO_LEON",_e[_e.BAJA_CALIFORNIA=73]="BAJA_CALIFORNIA",_e[_e.CHIHUAHUA=74]="CHIHUAHUA",_e[_e.GUANAJUATO=75]="GUANAJUATO",_e[_e.GUERRERO=76]="GUERRERO",_e[_e.MEXICO=77]="MEXICO",_e[_e.MICHOACAN=78]="MICHOACAN",_e[_e.NEW_YORK_CITY=79]="NEW_YORK_CITY",_e[_e.TAMAULIPAS=80]="TAMAULIPAS",_e[_e.VERACRUZ=81]="VERACRUZ",_e[_e.CHIAPAS=82]="CHIAPAS",_e[_e.COAHUILA=83]="COAHUILA",_e[_e.DURANGO=84]="DURANGO",_e[_e.GUERRERO_COCULA=85]="GUERRERO_COCULA",_e[_e.GUERRERO_JUCHITAN=86]="GUERRERO_JUCHITAN",_e[_e.GUERRERO_TEPECOACUILCO=87]="GUERRERO_TEPECOACUILCO",_e[_e.GUERRERO_TLACOAPA=88]="GUERRERO_TLACOAPA",_e[_e.GUJARAT=89]="GUJARAT",_e[_e.HIDALGO=90]="HIDALGO",_e[_e.KARNATAKA=91]="KARNATAKA",_e[_e.KERALA=92]="KERALA",_e[_e.KHYBER_PAKHTUNKHWA=93]="KHYBER_PAKHTUNKHWA",_e[_e.MADHYA_PRADESH=94]="MADHYA_PRADESH",_e[_e.MAHARASHTRA=95]="MAHARASHTRA",_e[_e.MORELOS=96]="MORELOS",_e[_e.NAYARIT=97]="NAYARIT",_e[_e.OAXACA=98]="OAXACA",_e[_e.PUEBLA=99]="PUEBLA",_e[_e.PUNJAB=100]="PUNJAB",_e[_e.QUERETARO=101]="QUERETARO",_e[_e.SAN_LUIS_POTOSI=102]="SAN_LUIS_POTOSI",_e[_e.SINALOA=103]="SINALOA",_e[_e.SONORA=104]="SONORA",_e[_e.TABASCO=105]="TABASCO",_e[_e.TAMIL_NADU=106]="TAMIL_NADU",_e[_e.YUCATAN=107]="YUCATAN",_e[_e.ZACATECAS=108]="ZACATECAS",_e[_e.AGUASCALIENTES=109]="AGUASCALIENTES",_e[_e.BAJA_CALIFORNIA_SUR=110]="BAJA_CALIFORNIA_SUR",_e[_e.CAMPECHE=111]="CAMPECHE",_e[_e.COLIMA=112]="COLIMA",_e[_e.QUINTANA_ROO_BENITO_JUAREZ=113]="QUINTANA_ROO_BENITO_JUAREZ",_e[_e.UINTANA_ROO=114]="UINTANA_ROO",_e[_e.QUINTANA_ROO_SOLIDARIDAD=115]="QUINTANA_ROO_SOLIDARIDAD",_e[_e.TLAXCALA=116]="TLAXCALA",_e[_e.QUINTANA_ROO_COZUMEL=117]="QUINTANA_ROO_COZUMEL",_e[_e.SAO_PAOLO=118]="SAO_PAOLO",_e[_e.COUNT=119]="COUNT",(Se=e.DocumentType||(e.DocumentType={}))[Se.NONE=0]="NONE",Se[Se.CONSULAR_ID=1]="CONSULAR_ID",Se[Se.DL=2]="DL",Se[Se.DL_PUBLIC_SERVICES_CARD=3]="DL_PUBLIC_SERVICES_CARD",Se[Se.EMPLOYMENT_PASS=4]="EMPLOYMENT_PASS",Se[Se.FIN_CARD=5]="FIN_CARD",Se[Se.ID=6]="ID",Se[Se.MULTIPURPOSE_ID=7]="MULTIPURPOSE_ID",Se[Se.MyKad=8]="MyKad",Se[Se.MyKid=9]="MyKid",Se[Se.MyPR=10]="MyPR",Se[Se.MyTentera=11]="MyTentera",Se[Se.PAN_CARD=12]="PAN_CARD",Se[Se.PROFESSIONAL_ID=13]="PROFESSIONAL_ID",Se[Se.PUBLIC_SERVICES_CARD=14]="PUBLIC_SERVICES_CARD",Se[Se.RESIDENCE_PERMIT=15]="RESIDENCE_PERMIT",Se[Se.RESIDENT_ID=16]="RESIDENT_ID",Se[Se.TEMPORARY_RESIDENCE_PERMIT=17]="TEMPORARY_RESIDENCE_PERMIT",Se[Se.VOTER_ID=18]="VOTER_ID",Se[Se.WORK_PERMIT=19]="WORK_PERMIT",Se[Se.iKAD=20]="iKAD",Se[Se.MILITARY_ID=21]="MILITARY_ID",Se[Se.MyKAS=22]="MyKAS",Se[Se.SOCIAL_SECURITY_CARD=23]="SOCIAL_SECURITY_CARD",Se[Se.HEALTH_INSURANCE_CARD=24]="HEALTH_INSURANCE_CARD",Se[Se.PASSPORT=25]="PASSPORT",Se[Se.S_PASS=26]="S_PASS",Se[Se.ADDRESS_CARD=27]="ADDRESS_CARD",Se[Se.ALIEN_ID=28]="ALIEN_ID",Se[Se.ALIEN_PASSPORT=29]="ALIEN_PASSPORT",Se[Se.GREEN_CARD=30]="GREEN_CARD",Se[Se.MINORS_ID=31]="MINORS_ID",Se[Se.POSTAL_ID=32]="POSTAL_ID",Se[Se.PROFESSIONAL_DL=33]="PROFESSIONAL_DL",Se[Se.TAX_ID=34]="TAX_ID",Se[Se.WEAPON_PERMIT=35]="WEAPON_PERMIT",Se[Se.VISA=36]="VISA",Se[Se.BORDER_CROSSING_CARD=37]="BORDER_CROSSING_CARD",Se[Se.DRIVER_CARD=38]="DRIVER_CARD",Se[Se.GLOBAL_ENTRY_CARD=39]="GLOBAL_ENTRY_CARD",Se[Se.MyPolis=40]="MyPolis",Se[Se.NEXUS_CARD=41]="NEXUS_CARD",Se[Se.PASSPORT_CARD=42]="PASSPORT_CARD",Se[Se.PROOF_OF_AGE_CARD=43]="PROOF_OF_AGE_CARD",Se[Se.REFUGEE_ID=44]="REFUGEE_ID",Se[Se.TRIBAL_ID=45]="TRIBAL_ID",Se[Se.VETERAN_ID=46]="VETERAN_ID",Se[Se.CITIZENSHIP_CERTIFICATE=47]="CITIZENSHIP_CERTIFICATE",Se[Se.MY_NUMBER_CARD=48]="MY_NUMBER_CARD",Se[Se.CONSULAR_PASSPORT=49]="CONSULAR_PASSPORT",Se[Se.MINORS_PASSPORT=50]="MINORS_PASSPORT",Se[Se.MINORS_PUBLIC_SERVICES_CARD=51]="MINORS_PUBLIC_SERVICES_CARD",Se[Se.COUNT=52]="COUNT",(le=e.DocumentImageColorStatus||(e.DocumentImageColorStatus={}))[le.NotAvailable=0]="NotAvailable",le[le.BlackAndWhite=1]="BlackAndWhite",le[le.Color=2]="Color",(Oe=e.ImageAnalysisDetectionStatus||(e.ImageAnalysisDetectionStatus={}))[Oe.NotAvailable=0]="NotAvailable",Oe[Oe.NotDetected=1]="NotDetected",Oe[Oe.Detected=2]="Detected",(Ce=e.CardOrientation||(e.CardOrientation={}))[Ce.Horizontal=0]="Horizontal",Ce[Ce.Vertical=1]="Vertical",(ue=e.ProcessingStatus||(e.ProcessingStatus={}))[ue.Success=0]="Success",ue[ue.DetectionFailed=1]="DetectionFailed",ue[ue.ImagePreprocessingFailed=2]="ImagePreprocessingFailed",ue[ue.StabilityTestFailed=3]="StabilityTestFailed",ue[ue.ScanningWrongSide=4]="ScanningWrongSide",ue[ue.FieldIdentificationFailed=5]="FieldIdentificationFailed",ue[ue.MandatoryFieldMissing=6]="MandatoryFieldMissing",ue[ue.InvalidCharactersFound=7]="InvalidCharactersFound",ue[ue.ImageReturnFailed=8]="ImageReturnFailed",ue[ue.BarcodeRecognitionFailed=9]="BarcodeRecognitionFailed",ue[ue.MrzParsingFailed=10]="MrzParsingFailed",ue[ue.ClassFiltered=11]="ClassFiltered",ue[ue.UnsupportedClass=12]="UnsupportedClass",ue[ue.UnsupportedByLicense=13]="UnsupportedByLicense",ue[ue.AwaitingOtherSide=14]="AwaitingOtherSide",ue[ue.NotScanned=15]="NotScanned",ue[ue.Count=16]="Count",(De=e.RecognitionMode||(e.RecognitionMode={}))[De.None=0]="None",De[De.MrzId=1]="MrzId",De[De.MrzVisa=2]="MrzVisa",De[De.MrzPassport=3]="MrzPassport",De[De.PhotoId=4]="PhotoId",De[De.FullRecognition=5]="FullRecognition",De[De.BarcodeId=6]="BarcodeId",De[De.Count=7]="Count";class Me{constructor(){this.allowBlurFilter=!0,this.allowUnparsedMrzResults=!1,this.allowUnverifiedMrzResults=!0,this.recognitionModeFilter=new me,this.saveCameraFrames=!1,this.scanCroppedDocumentImage=!1,this.validateResultCharacters=!0,this.anonymizationMode=e.AnonymizationMode.FullResult,this.barcodeScanningStartedCallback=null,this.classifierCallback=null,this.allowedDocumentClasses=null,this.paddingEdge=0,this.returnFullDocumentImage=!1,this.returnEncodedFullDocumentImage=!1,this._fullDocumentImageDpi=250,this.fullDocumentImageExtensionFactors=new Le,this.returnFaceImage=!1,this.returnEncodedFaceImage=!1,this._faceImageDpi=250,this.returnSignatureImage=!1,this.returnEncodedSignatureImage=!1,this._signatureImageDpi=250}get fullDocumentImageDpi(){return this._fullDocumentImageDpi}set fullDocumentImageDpi(e){ge(e),this._fullDocumentImageDpi=e}get faceImageDpi(){return this._faceImageDpi}set faceImageDpi(e){ge(e),this._faceImageDpi=e}get signatureImageDpi(){return this._signatureImageDpi}set signatureImageDpi(e){ge(e),this._signatureImageDpi=e}}(Te=e.IdBarcodeDocumentType||(e.IdBarcodeDocumentType={}))[Te.None=0]="None",Te[Te.AAMVACompliant=1]="AAMVACompliant",Te[Te.ArgentinaID=2]="ArgentinaID",Te[Te.ArgentinaAlienID=3]="ArgentinaAlienID",Te[Te.ArgentinaDL=4]="ArgentinaDL",Te[Te.ColombiaID=5]="ColombiaID",Te[Te.ColombiaDL=6]="ColombiaDL",Te[Te.NigeriaVoterID=7]="NigeriaVoterID",Te[Te.NigeriaDL=8]="NigeriaDL",Te[Te.PanamaID=9]="PanamaID",Te[Te.SouthAfricaID=10]="SouthAfricaID",e.BlinkIdMultiSideRecognizerSettings=class extends Me{constructor(){super(...arguments),this.allowUncertainFrontSideScan=!1,this.maxAllowedMismatchesPerField=0,this.skipUnsupportedBack=!1}},e.BlinkIdSingleSideRecognizerSettings=Me,e.CapturedFrame=Q,e.ExtensionFactors=Le,e.IdBarcodeRecognizerSettings=class{},e.RecognitionModeFilter=me,e.SDKError=P,e.SelectedCamera=k,e.VideoRecognizer=ae,e.WasmSDKLoadSettings=class{constructor(e){if(this.allowHelloMessage=!0,this.engineLocation="",this.workerLocation="",this.wasmType=null,this.numberOfWorkers=null,this.loadProgressCallback=null,this.wasmModuleName="BlinkIDWasmSDK",!e)throw new P(K.licenseKeyMissing);this.licenseKey=e}},e.bindCameraToVideoFeed=Y,e.captureFrame=X,e.clearVideoFeed=Z,e.createBlinkIdMultiSideRecognizer=function(e){return t(this,void 0,void 0,(function*(){return e.mbWasmModule.newRecognizer("BlinkIdMultiSideRecognizer")}))},e.createBlinkIdSingleSideRecognizer=function(e){return t(this,void 0,void 0,(function*(){return e.mbWasmModule.newRecognizer("BlinkIdSingleSideRecognizer")}))},e.createIdBarcodeRecognizer=function(e){return t(this,void 0,void 0,(function*(){return e.mbWasmModule.newRecognizer("IdBarcodeRecognizer")}))},e.createRecognizerRunner=function(e,r,i=!1,s={}){return t(this,void 0,void 0,(function*(){if("object"!=typeof e)throw new P(K.missing);if("object"!=typeof r||1>r.length)throw new P(K.recognizersMissing);return e.mbWasmModule.createRecognizerRunner(r,i,s)}))},e.detectWasmType=function(){return t(this,void 0,void 0,(function*(){const r=yield Ae(),i=yield function(){return t(this,void 0,void 0,(function*(){if(!(yield Ee()))return!1;if(!("importScripts"in self))throw Error("Not implemented");return"Worker"in self}))}();return r?i?e.WasmType.AdvancedWithThreads:e.WasmType.Advanced:e.WasmType.Basic}))},e.frameCaptureErrors=f,e.getCameraDevices=H,e.isBrowserSupported=function(){try{if("object"==typeof WebAssembly&&"function"==typeof WebAssembly.instantiate){const e=new WebAssembly.Module(Uint8Array.of(0,97,115,109,1,0,0,0));if(e instanceof WebAssembly.Module)return new WebAssembly.Instance(e)instanceof WebAssembly.Instance}}catch(e){return!1}return!1},e.isCameraFocusProblematic=z,e.isInAppBrowser=function(){const e=navigator.userAgent||navigator.vendor;return!!/(instagram|fbav|linkedinapp|twitter|micromessenger|whatsapp|tiktok)[/\s]?([\w.]*)/i.exec(e)},e.licenseErrors=v,e.loadWasmModule=function(e){return t(this,void 0,void 0,(function*(){return new Promise(((t,r)=>{if(!e||"object"!=typeof e)return void r(new P(K.wasmSettingsMissing));if("string"!=typeof e.licenseKey)return void r(new P(K.licenseKeyMissing));if(!e.wasmModuleName)return void r(new P(K.wasmModuleNameMissing));if("string"!=typeof e.engineLocation)return void r(new P(K.engineLocationInvalid));if("string"!=typeof e.workerLocation)return void r(new P(K.workerLocationInvalid));const i=function(){try{let e=localStorage.getItem("mb-user-id");return null===e&&(e=Re(),localStorage.setItem("mb-user-id",e)),e}catch(e){return Re()}}();try{const s=`/resources/${e.wasmModuleName}.worker.min.js`,o=window.location.origin+s,n=e.workerLocation||o;e.allowHelloMessage&&console.log("Worker location is:",n);const a=new Worker(n);h.createWasmWorker(a,e,i).then((e=>{t(e)}),r)}catch(e){r(e)}}))}))},e.localSdkErrors=b,e.obtainNewServerPermission=ne,e.sdkErrors=K,e.selectCamera=B,e.unlockWasmSDK=function(r,i,s,o){return t(this,void 0,void 0,(function*(){const t=o.initializeWithLicenseKey(r,s,i);switch(t.unlockResult){case e.LicenseTokenState.Invalid:return{error:new P(Object.assign(Object.assign({},v.licenseInvalid),{message:t.licenseError}),{type:e.LicenseErrorType.LicenseTokenStateInvalid})};case e.LicenseTokenState.Valid:return{error:null,showOverlay:(n=t.isTrial,a=t.allowRemoveDemoOverlay,A=t.allowRemoveProductionOverlay,!(n&&a||!n&&A))};case e.LicenseTokenState.RequiresServerPermission:{const r=yield ne(t,o);switch(r.status){case e.ServerPermissionSubmitResultStatus.Ok:return{error:null,lease:r.lease};case e.ServerPermissionSubmitResultStatus.NetworkError:{let t="";return r.networkErrorDescription&&(t=" "+r.networkErrorDescription),{error:new P(Object.assign(Object.assign({},v.licenseNetworkError),{message:"There has been a network error while obtaining the server permission!"+t}),{type:e.LicenseErrorType.NetworkError})}}case e.ServerPermissionSubmitResultStatus.RemoteLock:return{error:new P(v.licenseRemoteLocked,{type:e.LicenseErrorType.RemoteLock}),lease:r.lease};case e.ServerPermissionSubmitResultStatus.PermissionExpired:return{error:new P(v.licensePermissionExpired,{type:e.LicenseErrorType.PermissionExpired}),lease:r.lease};case e.ServerPermissionSubmitResultStatus.PayloadCorrupted:return{error:new P(v.licensePayloadCorrupted,{type:e.LicenseErrorType.PayloadCorrupted}),lease:r.lease};case e.ServerPermissionSubmitResultStatus.PayloadSignatureVerificationFailed:return{error:new P(v.licensePayloadVerificationFailed,{type:e.LicenseErrorType.PayloadSignatureVerificationFailed}),lease:r.lease};case e.ServerPermissionSubmitResultStatus.IncorrectTokenState:return{error:new P(v.licenseTokenStateIncorrect,{type:e.LicenseErrorType.IncorrectTokenState}),lease:r.lease}}}}var n,a,A}))},e.validateDpi=ge,e.videoRecognizerErrors=G,e.wasmFolder=function(t){switch(t){case e.WasmType.AdvancedWithThreads:return"advanced-threads";case e.WasmType.Advanced:return"advanced";case e.WasmType.Basic:return"basic"}},e.workerErrors=W,Object.defineProperty(e,"__esModule",{value:!0})}));
